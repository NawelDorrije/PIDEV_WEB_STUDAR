{% extends 'base.html.twig' %}

{% block title %}Détails du Rendez-vous{% endblock %}

{% block body %}
<section class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="card rendezvous-details">
                    <div class="card-header">
                        <h3>Rendez-vous</h3>
                        <div class="status-badge">
    <span class="badge bg-{{ 
        rendezvou.status == 'confirmée' ? 'success' : 
        (rendezvou.status == 'en_attente' ? 'warning' : 'danger') 
    }}">
        {{ rendezvou.status }}
    </span>
</div>
                    </div>
                    <div class="card-body">
                        <div class="details-grid">
                            <div class="detail-item">
    <span class="detail-label">Date:</span>
    <span class="detail-value">
        {{ rendezvou.date ? rendezvou.date|date('d/m/Y') : 'Non définie' }}
    </span>
</div>
<div class="detail-item">
    <span class="detail-label">Heure:</span>
    <span class="detail-value">
        {{ rendezvou.heure ?? 'Non définie' }}
    </span>
</div>
                            <div class="detail-item">
                                <span class="detail-label">CIN Propriétaire:</span>
                                <span class="detail-value">{{ rendezvou.cinProprietaire }}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">CIN Étudiant:</span>
                                <span class="detail-value">{{ rendezvou.cinEtudiant }}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Logement:</span>
                                <span class="detail-value">{{ rendezvou.idLogement }}</span>
                            </div>
                        </div>
                        
                        <div class="action-buttons mt-4">
    <a href="{{ path('app_rendezvous_edit', {'id': rendezvou.id}) }}" 
       class="btn btn-primary {{ not rendezvou.isModifiable() ? 'disabled' : '' }}"
       {% if not rendezvou.isModifiable() %}
           title="Modification impossible pour les rendez-vous confirmés ou refusés"
       {% endif %}>
        <i class="fas fa-edit"></i> Modifier
    </a>
    
    {{ include('rendezvous/_delete_form.html.twig') }}
    
    <a href="{{ path('app_rendezvous_index') }}" 
       class="btn btn-secondary">
        <i class="fas fa-arrow-left"></i> Retour à la liste
    </a>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}